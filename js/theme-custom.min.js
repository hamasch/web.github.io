window.REBASE=window.REBASE||{},REBASE.theme=REBASE.theme||{},function($){$((function(){function setHeaderHeight(){REBASE.theme.siteHeaderHeight=$("#shopify-section-header").outerHeight()}function setHeaderFixed(){REBASE.theme.isSiteHeaderFixed=!0,$(".site-header").addClass("site-header--fixed"),$("body").css({"padding-top":REBASE.theme.siteHeaderHeight+"px"});var actions=$(".site-header__actions").detach();$(".site-header__search").append(actions)}function setHeaderStatic(){REBASE.theme.isSiteHeaderFixed=!1,$(".site-header").removeClass("site-header--fixed"),$("body").css({"padding-top":"unset"});var actions=$(".site-header__actions").detach();$(".site-header__upper").append(actions)}function displayRecommendedProducts(products){products.forEach((function(product){var product_loop_template=$("#related-product__template").html(),compiled_html=_.template(product_loop_template,product);$(".section--related-products .products").append(compiled_html({product:product})),REBASE&&REBASE.lists&&REBASE.lists.updateActiveProductVariant({product_id:product.id,variant_id:product.variants[0].id})}))}function filterProductsByTag(filter,products,limit){if(!filter||!products)return;let filteredProducts=products.filter(product=>!product.tags.includes(filter));return limit&&(filteredProducts=filteredProducts.slice(0,limit)),filteredProducts}function getRecommendedProducts(id){fetch("/recommendations/products.json?product_id="+id+"&limit=10").then((function(resp){return resp.json()})).then((function(data){const filteredProducts=filterProductsByTag("algolia-ignore",data.products,5);filteredProducts?displayRecommendedProducts(filteredProducts):$(".section--related-products").hide()}))}var rec_product_json;($(document).on("click",".site-header__banner-close",(function(e){var banner=$(".site-header__banner");e.preventDefault(),banner.addClass("site-header__banner--hidden"),sessionStorage.setItem("banner_dismissed_"+banner.data("text"),!0),setHeaderHeight()})),function checkBannerDismissed(){var banner=$(".site-header__banner");sessionStorage.getItem("banner_dismissed_"+banner.data("text"))||banner.removeClass("site-header__banner--hidden")}(),REBASE.theme.isSiteHeaderFixed=!1,setHeaderHeight(),$(document).on("scroll",(function(e){window.innerWidth>960&&(window.scrollY>REBASE.theme.siteHeaderHeight&&!REBASE.theme.isSiteHeaderFixed&&setHeaderFixed(),window.scrollY<100&&REBASE.theme.isSiteHeaderFixed&&setHeaderStatic())})),$(document).on("click",".site-header__search-action",(function(e){e.preventDefault(),$("body").hasClass("mobile-search-opened")||setTimeout((function(){$("#mobile_search_input").focus()}),800),$("body").toggleClass("mobile-search-opened")})),$(document).on("click",(function(e){var container=$(".mobile-navigation, .mobile-menu-toggle");container.is(e.target)||0!==container.has(e.target).length||$("body").removeClass("mobile-nav-opened")})),$(document).on("click",".mobile-menu-toggle",(function(e){e.preventDefault(),$("body").toggleClass("mobile-nav-opened")})),$(document).on("click",".mobile-navigation__level-1-item.has-children",(function(e){e.preventDefault(),$('.mobile-navigation__panel--2[data-slug="'+$(this).data("slug")+'"]').css({left:0})})),$(document).on("click",".mobile-navigation__panel-back",(function(e){e.preventDefault(),$(".mobile-navigation__panel--2").css({left:"100vw"})})),$(".hover-intent.has-children").hoverIntent({over:function(){$(".hover-intent").removeClass("hovered"),$(this).toggleClass("hovered"),$(this).hasClass("has-children")&&$("body").addClass("nav-opened")},out:function(){$(this).removeClass("hovered"),$("body").removeClass("nav-opened")},timeout:200}),$("#forgot-password").on("click",(function(){$("#recover-password-form").show(),$("#customer-login-form").hide()})),$("#forgot-password-cancel").on("click",(function(){$("#recover-password-form").hide(),$("#customer-login-form").show()})),$(document).on("click",".filter-toggle, .filter-container__apply",(function(e){e.preventDefault(),$(".filter-container").toggleClass("filter-container--visible")})),$(document).on("click",".content-toggle__title",(function(e){e.preventDefault(),$(this).parent().find(".content-toggle__content").stop().slideToggle()})),$(document).on("click",".dropdown__label",(function(){$(this).parents(".dropdown").find(".dropdown__options").addClass("dropdown__options--visible")})),$(document).on("click",".dropdown__option:not(.dropdown__option--sort)",(function(){var _this=$(this),container=_this.parents(".dropdown");container.find(".dropdown__label span").text(_this.data("label")),container.find(".dropdown__options").removeClass("dropdown__options--visible")})),$(document).on("mouseup",(function(e){var container=$(".dropdown");container.is(e.target)||0!==container.has(e.target).length||$(".dropdown__options").removeClass("dropdown__options--visible")})),$(document).on("click",".gift-with-purchase__product .btn[data-gwp-variant-id]",(function(e){e.preventDefault(),CartJS.addItem($(this).data("gwp-variant-id"),1,{_gwp_promo:!0})})),$(document).on("click",".filter-panel__header-btn:not(.ais-Panel-collapseButton)",(function(e){var _this=$(this);_this.parents(".filter-panel").toggleClass("filter-panel--collapsed"),_this.find("span").text("+"===_this.find("span").text()?"â€“":"+")})),$(document).on("click",".tab",(function(e){var _this=$(this),slug=_this.data("slug");_this.siblings().removeClass("tab--selected"),_this.addClass("tab--selected"),_this.parents(".tab-container").find(".tab-content").removeClass("tab-content--selected"),_this.parents(".tab-container").find('.tab-content[data-slug="'+slug+'"]').addClass("tab-content--selected")})),$("body").hasClass("product-template")||$("body").hasClass("cart-template"))&&("undefined"!=typeof rehash_related_products&&rehash_related_products.length?displayRecommendedProducts(rehash_related_products):document.getElementById("product__json")?getRecommendedProducts((rec_product_json=JSON.parse(document.getElementById("product__json").innerHTML)).id):getRecommendedProducts((rec_product_json=JSON.parse(document.getElementById("cart-item__json").innerHTML)).product_id));function waitForElementToDisplay(selector,callback,checkFrequencyInMs,timeoutInMs){var startTimeInMs=Date.now();!function loopSearch(){null==document.querySelector(selector)?setTimeout((function(){timeoutInMs&&Date.now()-startTimeInMs>timeoutInMs||loopSearch()}),checkFrequencyInMs):callback()}()}waitForElementToDisplay(".rc-template",(function(){$(".rc-template").prepend("<div class='rc--content header__extra_title'>Subscribe:</div>");var subscription_discount = $('.rc-option__discount.rc_widget__option__discount').text();if(subscription_discount){$(".rc-radio.rc-option__subsave").append("<div class='subscription-discount-offer'><div class='subscription-discount-offer-inner'><svg xmlns='http://www.w3.org/2000/svg' version='1.0' width='83.000000pt' height='40.000000pt' viewBox='0 0 83.000000 40.000000' preserveAspectRatio='xMidYMid meet'><g transform='translate(0.000000,40.000000) scale(0.100000,-0.100000)' fill='#22399e' stroke='none'><path d='M120 315 c-111 -90 -125 -106 -115 -133 3 -9 54 -54 113 -99 l107 -82 303 -1 302 0 0 200 0 200 -303 0 -302 0 -105 -85z'/></g></svg><p>Save "+subscription_discount+"</p></div></div>");}}),1e3,9e3),$(document).on("click",".faq-item__title",(function(){var _this;$(this).next().slideToggle()}))}))}(jQuery);
 jQuery('.more-swatches-button').click(function(){
  jQuery('.cs-extra-swatch').removeClass('cs-hide');
  jQuery('.less-swatches-button').removeClass('cs-hide');
  jQuery('.more-swatches-button').addClass('cs-hide');
});
jQuery('.less-swatches-button').click(function(){
  jQuery('.cs-extra-swatch').addClass('cs-hide');
  jQuery('.less-swatches-button').addClass('cs-hide');
  jQuery('.more-swatches-button').removeClass('cs-hide');
});
jQuery('.navigation-has-image .List-Heading-Dropdown-btn').click(function(){
  if(jQuery(this).parent().parent().hasClass('dropdown-closed')){
     jQuery('.mobile-navigation__level-2-item.navigation-has-image').addClass('dropdown-closed');
     jQuery(this).parent().parent().removeClass('dropdown-closed');
  }
  else{
     jQuery('.mobile-navigation__level-2-item.navigation-has-image').addClass('dropdown-closed');
  }
});
jQuery('#add-to-cart-form').submit(function() {rdt('track', 'AddToCart'); return true;})